<!--
This is the default layout for the site. It includes
all default HEAD tag information, like stylesheets,
favicons, and META configurations. It also includes
default layout and format of the site, with the navbar,
footer, main content, and container element.
-->

<!DOCTYPE html>
<html lang="en">
    <head>
        <!-- Meta Tags -->
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        
        <!-- Page Title -->
        <title>Web Scraping with PHP: Fred Adams's Website</title>
        
        <!-- CSS -->
        <link rel="stylesheet" href="/assets/normalize.css">
        <link rel="stylesheet" href="/assets/skeleton.css">
        <link rel="stylesheet" href="/assets/main.css">

        <!-- Jekyll SEO Tag -->
        <!-- Begin Jekyll SEO tag v2.6.1 -->
<meta name="generator" content="Jekyll v3.8.6" />
<meta property="og:title" content="Web Scraping with PHP" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="What is Web Scraping? Web scraping is where you scrape or get code from a website and parse it to put it in your own code." />
<meta property="og:description" content="What is Web Scraping? Web scraping is where you scrape or get code from a website and parse it to put it in your own code." />
<link rel="canonical" href="http://localhost:4000/2018/09/15/web-scraping-with-php/" />
<meta property="og:url" content="http://localhost:4000/2018/09/15/web-scraping-with-php/" />
<meta property="og:site_name" content="Fred Adams’s Website" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2018-09-15T08:12:12-04:00" />
<script type="application/ld+json">
{"description":"What is Web Scraping? Web scraping is where you scrape or get code from a website and parse it to put it in your own code.","@type":"BlogPosting","url":"http://localhost:4000/2018/09/15/web-scraping-with-php/","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"http://localhost:4000/favicon-original.png"}},"headline":"Web Scraping with PHP","dateModified":"2018-09-15T08:12:12-04:00","datePublished":"2018-09-15T08:12:12-04:00","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/2018/09/15/web-scraping-with-php/"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->


        <!-- Favicon and Favicon Config -->
        <link rel="apple-touch-icon" sizes="57x57" href="/assets/favicon/apple-icon-57x57.png">
        <link rel="apple-touch-icon" sizes="60x60" href="/assets/favicon/apple-icon-60x60.png">
        <link rel="apple-touch-icon" sizes="72x72" href="/assets/favicon/apple-icon-72x72.png">
        <link rel="apple-touch-icon" sizes="76x76" href="/assets/favicon/apple-icon-76x76.png">
        <link rel="apple-touch-icon" sizes="114x114" href="/assets/favicon/apple-icon-114x114.png">
        <link rel="apple-touch-icon" sizes="120x120" href="/assets/favicon/apple-icon-120x120.png">
        <link rel="apple-touch-icon" sizes="144x144" href="/assets/favicon/apple-icon-144x144.png">
        <link rel="apple-touch-icon" sizes="152x152" href="/assets/favicon/apple-icon-152x152.png">
        <link rel="apple-touch-icon" sizes="180x180" href="/assets/favicon/apple-icon-180x180.png">
        <link rel="icon" type="image/png" sizes="192x192"  href="/assets/favicon/android-icon-192x192.png">
        <link rel="icon" type="image/png" sizes="32x32" href="/assets/favicon/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="96x96" href="/assets/favicon/favicon-96x96.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/assets/favicon/favicon-16x16.png">
        <link rel="manifest" href="/manifest.json">
        <meta name="msapplication-TileColor" content="#ffffff">
        <meta name="msapplication-TileImage" content="/assets/favicon/ms-icon-144x144.png">
        <meta name="theme-color" content="#ffffff">
    </head>
    <body>
        <!-- include navigation bar at the top -->
        <nav class="white">
    <a href="/">Fred Adams's Website</a>
    <ul>
        
        <a  class="active"  href="/">Home</a>
        
        <a  class="active"  href="/">About</a>
        
    </ul>
</nav>

        <!-- container is the main content of the site and footer -->
        <div class="container">
            <!-- main content -->
            <div class="block post">
    <div class="top">
        <h1>Web Scraping with PHP</h1>
        <p>Published on 15 September, 2018</p>
    </div>
    <h2 id="what-is-web-scraping">What is Web Scraping?</h2>
<p>Web scraping is where you scrape or get code from a website and parse it to put it in your own code.</p>

<p>Web scraping is commonly used in APIs, and websites that need to use data from external sources.</p>

<h2 id="using-php">Using PHP</h2>
<p>If you haven’t used PHP before, download PHP and Apache before reading the rest of this post.</p>

<h2 id="web-scraping-in-php">Web Scraping in PHP</h2>
<p>In this tutorial, I’ll teach you how to do some simple web scraping using PHP.</p>

<p>We’ll use PHP to get any Github users pinned repositories without using any external APIs.</p>

<h3 id="setting-up-our-project-folder">Setting up Our Project Folder</h3>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span><span class="nb">mkdir </span>pinnedreposcraper
<span class="nv">$ </span><span class="nb">cd </span>pinnedreposcraper
<span class="nv">$ </span><span class="nb">touch </span>index.php</code></pre></figure>

<h3 id="getting-simple_html_domphp">Getting Simple_HTML_DOM.php</h3>
<p>In this tutorial, we’ll be using a PHP library called Simple HTML DOM to send HTTP requests to websites and parse their code.</p>

<p>First, download the Simple_HTML_DOM.php here: <a href="http://sourceforge.net/projects/simplehtmldom/">sourceforge.net/projects/simplehtmldom/</a>.</p>

<p>Move the <code class="highlighter-rouge">Simple_HTML_DOM.php</code> file into the project folder.</p>

<h3 id="using-simple-html-dom-in-our-php-file">Using Simple HTML DOM in our PHP File</h3>
<p>First, we’ll require the <code class="highlighter-rouge">Simple_HTML_DOM.php</code> file in our <code class="highlighter-rouge">index.php</code> file.</p>

<figure class="highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>

<span class="k">require</span><span class="p">(</span><span class="s2">"simple_html_dom.php"</span><span class="p">);</span>

<span class="cp">?&gt;</span></code></pre></figure>

<h3 id="getting-the-page-of-the-specified-github-user">Getting the Page of the Specified Github User</h3>

<p>Then, we’ll make a variable for the Github username we want to get the pinned repositories of, and get the code for their Github page using Simple HTML DOM’s <code class="highlighter-rouge">file_get_html</code> function.</p>

<figure class="highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>

<span class="k">require</span><span class="p">(</span><span class="s2">"simple_html_dom.php"</span><span class="p">);</span>

<span class="nv">$gh_username</span> <span class="o">=</span> <span class="s2">"xtrp"</span><span class="p">;</span>
<span class="nv">$gh_page</span> <span class="o">=</span> <span class="nx">file_get_html</span><span class="p">(</span><span class="s1">'https://github.com/'</span> <span class="o">.</span> <span class="nv">$gh_username</span><span class="p">);</span>

<span class="cp">?&gt;</span></code></pre></figure>

<h3 id="getting-the-pinned-repositories-and-parsing-them">Getting the Pinned Repositories and Parsing Them</h3>

<p>Next, we’ll make an array for the users pinned repositories, and loop through the HTML list for the pinned repositories on their Github page.</p>

<figure class="highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>

<span class="k">require</span><span class="p">(</span><span class="s2">"simple_html_dom.php"</span><span class="p">);</span>

<span class="nv">$gh_username</span> <span class="o">=</span> <span class="s2">"xtrp"</span><span class="p">;</span>
<span class="nv">$gh_page</span> <span class="o">=</span> <span class="nx">file_get_html</span><span class="p">(</span><span class="s1">'https://github.com/'</span> <span class="o">.</span> <span class="nv">$gh_username</span><span class="p">);</span>

<span class="nv">$pinned_repos</span> <span class="o">=</span> <span class="p">[];</span>
<span class="k">foreach</span> <span class="p">(</span><span class="nv">$gh_page</span><span class="o">-&gt;</span><span class="na">find</span><span class="p">(</span><span class="s1">'ol.js-pinned-repos-reorder-list li'</span><span class="p">)</span> <span class="k">as</span> <span class="nv">$repo</span><span class="p">)</span> <span class="p">{</span>
	<span class="nv">$reponame</span> <span class="o">=</span> <span class="nv">$repo</span><span class="o">-&gt;</span><span class="na">find</span><span class="p">(</span><span class="s1">'span a'</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">plaintext</span><span class="p">;</span>
	<span class="nv">$repodescription</span> <span class="o">=</span> <span class="nv">$repo</span><span class="o">-&gt;</span><span class="na">find</span><span class="p">(</span><span class="s2">"p.pinned-repo-desc"</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">plaintext</span><span class="p">;</span>
	<span class="nv">$repolink</span> <span class="o">=</span> <span class="s2">"https://github.com"</span> <span class="o">.</span> <span class="nv">$repo</span><span class="o">-&gt;</span><span class="na">find</span><span class="p">(</span><span class="s1">'span a'</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">getAttribute</span><span class="p">(</span><span class="s2">"href"</span><span class="p">);</span>
	<span class="nv">$pinned_repos</span><span class="p">[]</span> <span class="o">=</span> <span class="p">[</span>
		<span class="s2">"name"</span> <span class="o">=&gt;</span> <span class="nv">$reponame</span><span class="p">,</span>
		<span class="s2">"description"</span> <span class="o">=&gt;</span> <span class="nv">$repodescription</span><span class="p">,</span>
		<span class="s2">"link"</span> <span class="o">=&gt;</span> <span class="nv">$repolink</span>
	<span class="p">];</span>
<span class="p">}</span>

<span class="cp">?&gt;</span></code></pre></figure>

<p>Here, we are using a PHP <code class="highlighter-rouge">foreach</code> statement to loop through the HTML list of pinned repositories, which we got by using the Simple HTML DOM <code class="highlighter-rouge">find</code> function, which allows us to get the HTML of any element using its CSS selector.</p>

<p>Next, we got the name, link, and description of each pinned repository, and added them to the array of pinned repositories.</p>

<p>Now that we have all of the pinned repositories in an organized list, we can use the data for whatever purposes we’d like.</p>

<h3 id="example-use">Example Use</h3>
<p>Here, I’ve simply used the PHP <code class="highlighter-rouge">echo</code> command to show each pinned repository in a readable format:</p>

<figure class="highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>

<span class="k">foreach</span> <span class="p">(</span><span class="nv">$pinned_repos</span> <span class="k">as</span> <span class="nv">$repo</span><span class="p">)</span> <span class="p">{</span>
	<span class="k">echo</span> <span class="s2">"&lt;a href='"</span> <span class="o">.</span> <span class="nv">$repo</span><span class="p">[</span><span class="s2">"link"</span><span class="p">]</span> <span class="o">.</span> <span class="s2">"'&gt;"</span> <span class="o">.</span> <span class="nv">$repo</span><span class="p">[</span><span class="s2">"name"</span><span class="p">]</span> <span class="o">.</span> <span class="s2">"&lt;/a&gt;"</span><span class="p">;</span>
	<span class="k">echo</span> <span class="s2">"&lt;p&gt;"</span> <span class="o">.</span> <span class="nv">$repo</span><span class="p">[</span><span class="s2">"description"</span><span class="p">]</span> <span class="o">.</span> <span class="s2">"&lt;/p&gt;&lt;br&gt;"</span><span class="p">;</span>
<span class="p">}</span>

<span class="cp">?&gt;</span></code></pre></figure>

<h3 id="the-full-code">The Full Code</h3>
<p>For those who want it, here is the full code of the <code class="highlighter-rouge">index.php</code> file (with the example use):</p>

<figure class="highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>

<span class="k">require</span><span class="p">(</span><span class="s2">"simple_html_dom.php"</span><span class="p">);</span>

<span class="nv">$gh_username</span> <span class="o">=</span> <span class="s2">"xtrp"</span><span class="p">;</span>
<span class="nv">$gh_page</span> <span class="o">=</span> <span class="nx">file_get_html</span><span class="p">(</span><span class="s1">'https://github.com/'</span> <span class="o">.</span> <span class="nv">$gh_username</span><span class="p">);</span>

<span class="nv">$pinned_repos</span> <span class="o">=</span> <span class="p">[];</span>
<span class="k">foreach</span> <span class="p">(</span><span class="nv">$gh_page</span><span class="o">-&gt;</span><span class="na">find</span><span class="p">(</span><span class="s1">'ol.js-pinned-repos-reorder-list li'</span><span class="p">)</span> <span class="k">as</span> <span class="nv">$repo</span><span class="p">)</span> <span class="p">{</span>
	<span class="nv">$reponame</span> <span class="o">=</span> <span class="nv">$repo</span><span class="o">-&gt;</span><span class="na">find</span><span class="p">(</span><span class="s1">'span a'</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">plaintext</span><span class="p">;</span>
	<span class="nv">$repodescription</span> <span class="o">=</span> <span class="nv">$repo</span><span class="o">-&gt;</span><span class="na">find</span><span class="p">(</span><span class="s2">"p.pinned-repo-desc"</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">plaintext</span><span class="p">;</span>
	<span class="nv">$repolink</span> <span class="o">=</span> <span class="s2">"https://github.com"</span> <span class="o">.</span> <span class="nv">$repo</span><span class="o">-&gt;</span><span class="na">find</span><span class="p">(</span><span class="s1">'span a'</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">getAttribute</span><span class="p">(</span><span class="s2">"href"</span><span class="p">);</span>
	<span class="nv">$pinned_repos</span><span class="p">[]</span> <span class="o">=</span> <span class="p">[</span>
		<span class="s2">"name"</span> <span class="o">=&gt;</span> <span class="nv">$reponame</span><span class="p">,</span>
		<span class="s2">"description"</span> <span class="o">=&gt;</span> <span class="nv">$repodescription</span><span class="p">,</span>
		<span class="s2">"link"</span> <span class="o">=&gt;</span> <span class="nv">$repolink</span>
	<span class="p">];</span>
<span class="p">}</span>

<span class="k">foreach</span> <span class="p">(</span><span class="nv">$pinned_repos</span> <span class="k">as</span> <span class="nv">$repo</span><span class="p">)</span> <span class="p">{</span>
	<span class="k">echo</span> <span class="s2">"&lt;a href='"</span> <span class="o">.</span> <span class="nv">$repo</span><span class="p">[</span><span class="s2">"link"</span><span class="p">]</span> <span class="o">.</span> <span class="s2">"'&gt;"</span> <span class="o">.</span> <span class="nv">$repo</span><span class="p">[</span><span class="s2">"name"</span><span class="p">]</span> <span class="o">.</span> <span class="s2">"&lt;/a&gt;"</span><span class="p">;</span>
	<span class="k">echo</span> <span class="s2">"&lt;p&gt;"</span> <span class="o">.</span> <span class="nv">$repo</span><span class="p">[</span><span class="s2">"description"</span><span class="p">]</span> <span class="o">.</span> <span class="s2">"&lt;/p&gt;&lt;br&gt;"</span><span class="p">;</span>
<span class="p">}</span>

<span class="cp">?&gt;</span></code></pre></figure>

<p>Thanks for scrolling.</p>

<p><em>- Fred Adams</em></p>

</div>

            <!-- include footer at the end -->
            <footer>
	<!-- Copyright Statement with author name, copyright symbol, and current year -->
    <p>&copy; Fred Adams 2019</p>
    
    <!-- Display Social Links -->
    <ul>
    	<!-- Loop though each social link and display with corresponding SVG -->
        
        
        <a href="https://github.com/xtrp/">
        	<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg>
        </a>

        
        
        <a href="https://instagram.com/xtrp127/">
        	<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/></svg>
        </a>

        
        
        <a href="https://dev.to/xtrp/">
        	<svg xmlns="http://www.w3.org/2000/svg" role="img" viewBox="0 0 448 512"><path fill="#000000" d="M120.12 208.29c-3.88-2.9-7.77-4.35-11.65-4.35H91.03v104.47h17.45c3.88 0 7.77-1.45 11.65-4.35 3.88-2.9 5.82-7.25 5.82-13.06v-69.65c-.01-5.8-1.96-10.16-5.83-13.06zM404.1 32H43.9C19.7 32 .06 51.59 0 75.8v360.4C.06 460.41 19.7 480 43.9 480h360.2c24.21 0 43.84-19.59 43.9-43.8V75.8c-.06-24.21-19.7-43.8-43.9-43.8zM154.2 291.19c0 18.81-11.61 47.31-48.36 47.25h-46.4V172.98h47.38c35.44 0 47.36 28.46 47.37 47.28l.01 70.93zm100.68-88.66H201.6v38.42h32.57v29.57H201.6v38.41h53.29v29.57h-62.18c-11.16.29-20.44-8.53-20.72-19.69V193.7c-.27-11.15 8.56-20.41 19.71-20.69h63.19l-.01 29.52zm103.64 115.29c-13.2 30.75-36.85 24.63-47.44 0l-38.53-144.8h32.57l29.71 113.72 29.57-113.72h32.58l-38.46 144.8z"/></svg>
        </a>

        
        
        <a href="https://stackoverflow.com/users/10007107/fred-adams">
        	<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M15 21h-10v-2h10v2zm6-11.665l-1.621-9.335-1.993.346 1.62 9.335 1.994-.346zm-5.964 6.937l-9.746-.975-.186 2.016 9.755.879.177-1.92zm.538-2.587l-9.276-2.608-.526 1.954 9.306 2.5.496-1.846zm1.204-2.413l-8.297-4.864-1.029 1.743 8.298 4.865 1.028-1.744zm1.866-1.467l-5.339-7.829-1.672 1.14 5.339 7.829 1.672-1.14zm-2.644 4.195v8h-12v-8h-2v10h16v-10h-2z"/></svg>
        </a>

        
    </ul>
</footer>
        </div>
    </body>
</html>